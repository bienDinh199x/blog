<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Look Back on Week - Hiện Thị Sự Kiện User &#39;Is Writing...&#39; Or &#39;Typing...&#39; Trong Ứng Dụng Chat Với FireBase... :: hello friend! i am bee!</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Có nhiều bạn vẫn đang thắc mắc hoặc đang đi tìm giải pháp &amp;laquo;is writing..&amp;raquo; or &amp;laquo;typing&amp;raquo; khi làm chat (conversations). Và bài này mình sẽ giới thiệu một cách trong nhiều cách, nhưng mình thấy cách này tương đối ngon nên mạo muội chia sẻ đến cho các bạn&amp;hellip;
Lưu ý mình chỉ giới thiệu cho các bạn nào đang xài FireBase nhé, còn Socket.io thì mình sẽ có bài tiếp theo nếu bạn nào đang sử dụng Socket để làm chat."/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://biendinh199x.github.io/blog/post/postpage8_event_typing/" />


<link rel="stylesheet" href="https://biendinh199x.github.io/blog/assets/style.css">


<link rel="stylesheet" href="https://biendinh199x.github.io/blog/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://biendinh199x.github.io/blog/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="https://biendinh199x.github.io/blog/img/favicon.png">


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Look Back on Week - Hiện Thị Sự Kiện User &#39;Is Writing...&#39; Or &#39;Typing...&#39; Trong Ứng Dụng Chat Với FireBase... :: hello friend! i am bee! — " />
<meta name="twitter:description" content="Có nhiều bạn vẫn đang thắc mắc hoặc đang đi tìm giải pháp &amp;laquo;is writing..&amp;raquo; or &amp;laquo;typing&amp;raquo; khi làm chat (conversations). Và bài này mình sẽ giới thiệu một cách trong nhiều cách, nhưng mình thấy cách này tương đối ngon nên mạo muội chia sẻ đến cho các bạn&amp;hellip;
Lưu ý mình chỉ giới thiệu cho các bạn nào đang xài FireBase nhé, còn Socket.io thì mình sẽ có bài tiếp theo nếu bạn nào đang sử dụng Socket để làm chat." />
<meta name="twitter:site" content="https://biendinh199x.github.io/blog/" />
<meta name="twitter:creator" content="map[name: Bee]" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Look Back on Week - Hiện Thị Sự Kiện User &#39;Is Writing...&#39; Or &#39;Typing...&#39; Trong Ứng Dụng Chat Với FireBase... :: hello friend! i am bee! — ">
<meta property="og:description" content="Có nhiều bạn vẫn đang thắc mắc hoặc đang đi tìm giải pháp &amp;laquo;is writing..&amp;raquo; or &amp;laquo;typing&amp;raquo; khi làm chat (conversations). Và bài này mình sẽ giới thiệu một cách trong nhiều cách, nhưng mình thấy cách này tương đối ngon nên mạo muội chia sẻ đến cho các bạn&amp;hellip;
Lưu ý mình chỉ giới thiệu cho các bạn nào đang xài FireBase nhé, còn Socket.io thì mình sẽ có bài tiếp theo nếu bạn nào đang sử dụng Socket để làm chat." />
<meta property="og:url" content="https://biendinh199x.github.io/blog/post/postpage8_event_typing/" />
<meta property="og:site_name" content="Look Back on Week - Hiện Thị Sự Kiện User &#39;Is Writing...&#39; Or &#39;Typing...&#39; Trong Ứng Dụng Chat Với FireBase..." />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2019-04-16 00:00:00 &#43;0000 UTC" />







</head>
<body class="dark-theme">
<div class="container">
  <header class="header">
  <span class="header__inner">
    <a href="https://biendinh199x.github.io/blog/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">hello friend! i am bee!</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/blog/about">About</a></li>
        
      
        
          <li><a href="/blog/showcase">Showcase</a></li>
        
      
        
          <li><a href="/blog/travel">Travel</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/blog/about">About</a></li>
      
    
      
        <li><a href="/blog/showcase">Showcase</a></li>
      
    
      
        <li><a href="/blog/travel">Travel</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-137251679-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
 
</header>


  <div class="content">
    
  <div class="post">
    <h2 class="post-title"><a href="https://biendinh199x.github.io/blog/post/postpage8_event_typing/">Look Back on Week - Hiện Thị Sự Kiện User &lsquo;Is Writing&hellip;&rsquo; Or &lsquo;Typing&hellip;&rsquo; Trong Ứng Dụng Chat Với FireBase&hellip;</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            16-04-2019
        </span>
      
      <span class="post-author">— Written by map[name: Bee]</span>
      
        <span class="post-read-time">— 2 min read</span>
      
    </div>

    
      <span class="post-tags">
        
          #<a href="https://biendinh199x.github.io/blog/tags/javascrip">JavaScrip</a>&nbsp;
        
          #<a href="https://biendinh199x.github.io/blog/tags/message-in-typing">message in typing</a>&nbsp;
        
          #<a href="https://biendinh199x.github.io/blog/tags/development">development</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      

<p>Có nhiều bạn vẫn đang thắc mắc hoặc đang đi tìm giải pháp &laquo;is writing..&raquo; or &laquo;typing&raquo; khi làm chat (conversations). Và bài này mình sẽ giới thiệu một cách trong nhiều cách, nhưng mình thấy cách này tương đối ngon nên mạo muội chia sẻ đến cho các bạn&hellip;</p>

<p>Lưu ý mình chỉ giới thiệu cho các bạn nào đang xài FireBase nhé, còn Socket.io thì mình sẽ có bài tiếp theo nếu bạn nào đang sử dụng Socket để làm chat.</p>

<p>Các bạn thấy đó trong mỗi ứng dụng nào đều cũng có chức năng này, có giúp cho User tương tác một cách trực quan hơn, và quan trọng đúng là realtime :D.</p>

<p>Ví dụ: what&rsquo;s app, facebook, line&hellip;</p>

<p>Rất nhiều và nó rất phổ biến trong ứng dụng chat. Vậy làm sao để có được tính năng như vậy trên FireBase.</p>

<p>Nếu bạn nào đáng sử dụng FireBase để Store data và làm event Realtime thì bài này danh cho các bạn.</p>

<p>Bắt đầu nào:</p>

<p>Đầu tiên bạn phải tạo cho mình một FireBase Database, Cách tạo thì link này nhé: <a href="https://firebase.google.com/docs/database/ios/structure-data">https://firebase.google.com/docs/database/ios/structure-data</a></p>

<p>Bước đầu tiên là sự kiện khi User bắt đầu chat thì chúng ta dùng sự kiện này:</p>

<pre><code class="language-js">    // Khai báo fireabase
    var ref = new Firebase('https://*ten user cua ban*.firebaseio.com/');
    // su kien moi nguoi khi chat se hien thi o day
    ref.on('value', function(snapshot) {
    users.innerText = '';
    
    snapshot.forEach(function(typer) {
        var li = document.createElement('li');
        li.innerText = typer.key() + ': is writing...' ;
        users.appendChild(li);
    })
    })
</code></pre>

<p>Còn sử kiện này là nó hiện thị tất cả các User đang chat trong room chúng ta.</p>

<pre><code class="language-js">document.getElementById('mytext').addEventListener('input',function(e) {
  
  // KHi user bat dau chat thi se set gia tri cho User nay
  ref.child(uid).set(true);
  // xoa su kien sau khi timer bat dau 
  if (timer) clearTimeout(timer);
  // remove user nay trong vong 1 second
  timer = setTimeout(function() {
    ref.child(uid).remove();
  }, 1000);
})

</code></pre>

<h4 id="đơn-giản-dễ-hiểu-phải-không-nào-nice-https-media-giphy-com-media-au879ghbmcvw4-giphy-gif-nice">Đơn giản dễ hiểu phải không nào!😬💪🏻🤞🏻<img src="https://media.giphy.com/media/au879GHBMcvw4/giphy.gif" alt="nice" title="nice" /></h4>

<p>Full code ở <a href="https://jsbin.com/mesuzuz/edit?html,js,output">đây</a>!</p>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="https://biendinh199x.github.io/blog/post/postpage9_elk_stack_ql_log/">
                <span class="button__icon">←</span>
                <span class="button__text">TÌM HIỂU VỀ ELK STACK – CÔNG CỤ QUẢN LÝ LOG TẬP CHUNG!</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="https://biendinh199x.github.io/blog/post/postpage6_timeline/">
                <span class="button__text">Developer Life</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    

    <div class="comment">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "blog-bee" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "https://biendinh199x.github.io/blog/")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'blog-bee';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>
  
    </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Create at BumbleBee🐝</div>
    
  </div>
</footer>

<script src="https://biendinh199x.github.io/blog/assets/main.js"></script>
<script src="https://biendinh199x.github.io/blog/assets/prism.js"></script>

  
</div>

</body>
</html>
