<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Look Back on Week - Microservice vÃ  phÆ°Æ¡ng thá»©c Message báº±ng RabbitMq cÃ³ gÃ¬ hay? :: Hello Friend! â€” I am Bee!</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Trong sÃª ri Look Back on Week, kÃ¬ nÃ y nÃ³i vá» má»™t cáº¥u trÃºc dá»‹ch vá»¥ giÃºp phÃ¡t triá»ƒn pháº§n má»m phá»©c táº¡p - xÃ¢y dá»±ng á»©ng dá»¥ng theo dáº¡ng Microservice!
BÃ i nÃ y sáº½ lÃ  má»™t cÃ¡i nhÃ¬n láº¡i, trong tuáº§n vá»«a qua, tÃ¬m hiá»ƒu Ä‘á»ƒ sá»­ dá»¥ng nÃ³ trong phÃ¡t triá»ƒn á»©ng dá»¥ng.
Hi vá»ng bÃ i nÃ y giÃºp giáº£i thÃ­ch má»™t pháº§n táº¡i sao nÃªn sá»­ dá»¥ng kiáº¿n trÃºc Microservice vÃ  viá»‡c giao tiáº¿p giá»¯a cÃ¡c Microservice sá»­ dá»¥ng gá»­i message dÃ¹ng RabbitMq!"/>
<meta name="keywords" content=""/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://biendinh199x.github.io/blog/post/postpage3_finish_week_1/" />


<link rel="stylesheet" href="https://biendinh199x.github.io/blog/assets/style.css">


<link rel="stylesheet" href="https://biendinh199x.github.io/blog/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://biendinh199x.github.io/blog/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="https://biendinh199x.github.io/blog/img/favicon.png">


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Look Back on Week - Microservice vÃ  phÆ°Æ¡ng thá»©c Message báº±ng RabbitMq cÃ³ gÃ¬ hay? :: Hello Friend! â€” I am Bee!" />
<meta name="twitter:description" content="Trong sÃª ri Look Back on Week, kÃ¬ nÃ y nÃ³i vá» má»™t cáº¥u trÃºc dá»‹ch vá»¥ giÃºp phÃ¡t triá»ƒn pháº§n má»m phá»©c táº¡p - xÃ¢y dá»±ng á»©ng dá»¥ng theo dáº¡ng Microservice!
BÃ i nÃ y sáº½ lÃ  má»™t cÃ¡i nhÃ¬n láº¡i, trong tuáº§n vá»«a qua, tÃ¬m hiá»ƒu Ä‘á»ƒ sá»­ dá»¥ng nÃ³ trong phÃ¡t triá»ƒn á»©ng dá»¥ng.
Hi vá»ng bÃ i nÃ y giÃºp giáº£i thÃ­ch má»™t pháº§n táº¡i sao nÃªn sá»­ dá»¥ng kiáº¿n trÃºc Microservice vÃ  viá»‡c giao tiáº¿p giá»¯a cÃ¡c Microservice sá»­ dá»¥ng gá»­i message dÃ¹ng RabbitMq!" />
<meta name="twitter:site" content="https://biendinh199x.github.io/blog/" />
<meta name="twitter:creator" content="map[name: Bee]" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Look Back on Week - Microservice vÃ  phÆ°Æ¡ng thá»©c Message báº±ng RabbitMq cÃ³ gÃ¬ hay? :: Hello Friend! â€” I am Bee!">
<meta property="og:description" content="Trong sÃª ri Look Back on Week, kÃ¬ nÃ y nÃ³i vá» má»™t cáº¥u trÃºc dá»‹ch vá»¥ giÃºp phÃ¡t triá»ƒn pháº§n má»m phá»©c táº¡p - xÃ¢y dá»±ng á»©ng dá»¥ng theo dáº¡ng Microservice!
BÃ i nÃ y sáº½ lÃ  má»™t cÃ¡i nhÃ¬n láº¡i, trong tuáº§n vá»«a qua, tÃ¬m hiá»ƒu Ä‘á»ƒ sá»­ dá»¥ng nÃ³ trong phÃ¡t triá»ƒn á»©ng dá»¥ng.
Hi vá»ng bÃ i nÃ y giÃºp giáº£i thÃ­ch má»™t pháº§n táº¡i sao nÃªn sá»­ dá»¥ng kiáº¿n trÃºc Microservice vÃ  viá»‡c giao tiáº¿p giá»¯a cÃ¡c Microservice sá»­ dá»¥ng gá»­i message dÃ¹ng RabbitMq!" />
<meta property="og:url" content="https://biendinh199x.github.io/blog/post/postpage3_finish_week_1/" />
<meta property="og:site_name" content="Look Back on Week - Microservice vÃ  phÆ°Æ¡ng thá»©c Message báº±ng RabbitMq cÃ³ gÃ¬ hay?" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2019-03-30 00:00:00 &#43;0000 UTC" />







</head>
<body class="">
<div class="container">
  <header class="header">
  <span class="header__inner">
    <a href="https://biendinh199x.github.io/blog/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">hello friend! i am bee!</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="https://biendinh199x.github.io/blog/about/">About</a></li>
        
      
        
          <li><a href="https://biendinh199x.github.io/blog/showcase/">Showcase</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="https://biendinh199x.github.io/blog/about/">About</a></li>
      
    
      
        <li><a href="https://biendinh199x.github.io/blog/showcase/">Showcase</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-137251679-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
 
</header>


  <div class="content">
    
  <div class="post">
    <h2 class="post-title"><a href="https://biendinh199x.github.io/blog/post/postpage3_finish_week_1/">Look Back on Week - Microservice vÃ  phÆ°Æ¡ng thá»©c Message báº±ng RabbitMq cÃ³ gÃ¬ hay?</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            2019-03-30
        </span>
      
      <span class="post-author">â€” Written by map[name: Bee]</span>
      
    </div>

    
      <span class="post-tags">
        
          #<a href="https://biendinh199x.github.io/blog/tags/java">Java</a>&nbsp;
        
          #<a href="https://biendinh199x.github.io/blog/tags/message-in-microservice">message in microservice</a>&nbsp;
        
          #<a href="https://biendinh199x.github.io/blog/tags/rabbitmq">RabbitMq</a>&nbsp;
        
          #<a href="https://biendinh199x.github.io/blog/tags/development">development</a>&nbsp;
        
      </span>
    

    

    <div class="post-content">
      

<p>Trong sÃª ri <strong>Look Back on Week</strong>, kÃ¬ nÃ y nÃ³i vá» má»™t cáº¥u trÃºc dá»‹ch vá»¥ giÃºp phÃ¡t triá»ƒn pháº§n má»m phá»©c táº¡p - xÃ¢y dá»±ng á»©ng dá»¥ng theo dáº¡ng Microservice!<br />
BÃ i nÃ y sáº½ lÃ  má»™t cÃ¡i nhÃ¬n láº¡i, trong tuáº§n vá»«a qua, tÃ¬m hiá»ƒu Ä‘á»ƒ sá»­ dá»¥ng nÃ³ trong phÃ¡t triá»ƒn á»©ng dá»¥ng.<br />
Hi vá»ng bÃ i nÃ y giÃºp giáº£i thÃ­ch má»™t pháº§n táº¡i sao nÃªn sá»­ dá»¥ng kiáº¿n trÃºc Microservice vÃ  viá»‡c giao tiáº¿p giá»¯a cÃ¡c Microservice sá»­ dá»¥ng gá»­i message dÃ¹ng RabbitMq!</p>

<h4 id="cuá»‘i-bÃ i-lÃ -má»™t-sá»‘-viá»‡c-cÃ¡-nhÃ¢n-mÃ¬nh-lÃ m-trong-tuáº§n-qua-hi-vá»ng-má»i-ngÆ°á»i-sáº½-Ä‘á»c-Ä‘Ãªn-cuá»‘i-nhÃ©">Cuá»‘i bÃ i lÃ  má»™t sá»‘ viá»‡c cÃ¡ nhÃ¢n mÃ¬nh lÃ m trong tuáº§n qua hi vá»ng má»i ngÆ°á»i sáº½ Ä‘á»c Ä‘Ãªn cuá»‘i nhÃ©! ğŸ¤—</h4>

<h2 id="monolithic-applications-á»©ng-dá»¥ng-khá»‘i-truyá»n-thá»‘ng">Monolithic Applications - á»©ng dá»¥ng khá»‘i truyá»n thá»‘ng</h2>

<p>Má»™t á»©ng dá»¥ng truyá»n thá»‘ng thÆ°á»ng Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ Ä‘Ã¡p á»©ng nhiá»u chá»©c nÄƒng theo yÃªu cáº§u cá»§a tá»• chá»©c hoáº·c khÃ¡ch hÃ ng. Do Ä‘Ã³ cÃ¡c pháº§n má»m Ä‘Ã³ cÃ³ hÃ ng trÄƒm tÃ­nh nÄƒng vÃ  táº¥t cáº£ nhá»¯ng tÃ­nh nÄƒng nÃ y Ä‘á»u Ä‘Æ°á»£c gÃ³i trong má»™t á»©ng dá»¥ng monolithic - ERPs, CRMs, &hellip; Khi xáº£y ra lá»—i hoáº·c theo yÃªu cáº§u cáº§n scale (má»Ÿ rá»™ng - phÃ¡t triá»ƒn) á»©ng dá»¥ng nÃ y thÃ¬ khá»‘i monolithic nÃ y sáº½ lÃ  má»™t cÆ¡n Ã¡c má»™ng cho má»—i dev. Viá»‡c báº¡n máº¥t cáº£ ngÃ y Ä‘á»ƒ lá»¥c tung cÃ¡c dÃ²ng code, funtions lÃ  Ä‘iá»u xáº£y ra nhÆ° cÆ¡m bá»¯a ğŸ˜¤</p>

<p><img src="https://cdn-images-1.medium.com/max/1600/1*P77UokfGbaoskUmhlJ-gIw.png" alt="Alt text" />HÃ¬nh 1: Monolithic Applications</p>

<p>Trong pháº§n lá»›n trÆ°á»ng há»£p, dá»‹ch vá»¥ trong SOA lÃ  Ä‘á»™c láº­p nhÆ°ng chÃºng láº¡i Ä‘Æ°á»£c triá»ƒn kháº£i chung. TÆ°Æ¡ng tá»± nhÆ° á»©ng dá»¥ng monolithic, nhá»¯ng dá»‹ch vá»¥ nÃ y to vÃ  phá»©c táº¡p lÃªn theo thá»i gian vÃ¬ thÆ°á»ng xuyÃªn thÃªm cÃ¡c tÃ­nh nÄƒng. VÃ  tháº¿ lÃ  nhá»¯ng á»©ng dá»¥ng nÃ y láº¡i trá»Ÿ thÃ nh má»™t má»› cÃ¡c dá»‹ch vá»¥ monolithic, cÅ©ng khÃ´ng cÃ²n khÃ¡c máº¥y so vá»›i kiáº¿n trÃºc má»™t khá»‘i thÃ´ng thÆ°á»ng. HÃ¬nh 1 thá»ƒ hiá»‡n má»™t á»©ng dá»¥ng gá»“m nhiá»u services. Nhá»¯ng services nÃ y Ä‘Æ°á»£c triá»ƒn khai cÃ¹ng má»™t lÃºc vÃ o 1 á»©ng dá»¥ng lá»›n. DÃ¹ bÃªn trong cÃ³ gá»“m cÃ¡c services thÃ¬ Ä‘Ã¢y lÃ  má»™t á»©ng dá»¥ng monolithic. Má»™t sá»‘ tÃ­nh cháº¥t cá»§a kiáº¿n trÃºc má»™t khá»‘i:</p>

<ul>
<li>ÄÆ°á»£c thiáº¿t káº¿, phÃ¡t triá»ƒn vÃ  triá»ƒn khai theo má»™t khá»‘i duy nháº¥t<br /></li>
<li>á»¨ng dá»¥ng monolithic phá»©c táº¡p vÃ  to gÃ¢y khÃ³ khÄƒn cho viá»‡c báº£o trÃ¬, nÃ¢ng cáº¥p vÃ  thÃªm tÃ­nh nÄƒng má»›i<br /></li>
<li>KhÃ³ Ã¡p dá»¥ng phÃ¡t triá»ƒn kiá»ƒu agile<br /></li>
<li>Pháº£i triá»ƒn khai láº¡i toÃ n bá»™ há»‡ thá»‘ng dÃ¹ chá»‰ cáº­p nháº­t hay nÃ¢ng cáº¥p má»™t pháº§n<br /></li>
<li>Má»Ÿ rá»™ng: pháº£i má»Ÿ rá»™ng cáº£ khá»‘i á»©ng dá»¥ng, gáº·p khÃ³ khÄƒn náº¿u cÃ³ cÃ¡c yÃªu cáº§u vá» tÃ i nguyÃªn khÃ¡c nhau (vÃ­ dá»¥ má»™t service yÃªu cáº§u thÃªm CPU, service khÃ¡c láº¡i yÃªu cáº§u nhiá»u memory)<br /></li>
<li>Äá»™ tin cáº­y: má»™t service khÃ´ng á»•n Ä‘á»‹nh cÃ³ thá»ƒ sáº­p cáº£ há»‡ thá»‘ng<br /></li>
<li>KhÃ³ Ä‘á»•i má»›i: á»©ng dá»¥ng monolithic pháº£i sá»­ dá»¥ng chung cÃ´ng nghá»‡ nÃªn khÃ³ thay Ä‘á»•i hay Ã¡p dá»¥ng cÃ´ng nghá»‡ má»›i<br />
<br /></li>
</ul>

<p>Nhá»¯ng tÃ­nh cháº¥t giá»›i háº¡n trÃªn cá»§a kiáº¿n trÃºc má»™t khá»‘i dáº«n tá»›i sá»± phÃ¡t triá»ƒn cá»§a kiáº¿n trÃºc dá»‹ch vá»¥ nhá» (Microservices Architecture).</p>

<p>Máº·c dÃ¹ cÃ³ cáº¥u trÃºc module hÃ³a há»£p lÃ½, nhÆ°ng á»©ng dá»¥ng kiá»ƒu nÃ y sáº½ Ä‘Ã³ng gÃ³i vÃ  cÃ i Ä‘áº·t thÃ nh má»™t khá»‘i (monolithic). MÃ£ cháº¡y cá»¥ thá»ƒ tÃ¹y thuá»™c vÃ o ngÃ´n ngá»¯ láº­p trÃ¬nh hay thÆ° viá»‡n framework. VÃ­ dá»¥ á»©ng dá»¥ng Java Ä‘Ã³ng trong file WAR, triá»ƒn khai trÃªn application server nhÆ° Tomcat hay Jetty. DÃ¹ng framework khÃ¡c, thÃ¬ á»©ng dá»¥ng Java lÃ  má»™t file tá»± Ä‘Ã³ng gÃ³i Ä‘á»ƒ cháº¡y lÃ  JAR. á»¨ng Rails hay Node.js Ä‘Ã³ng gÃ³i theo cáº¥u trÃºc thÆ° má»¥c phÃ¢n cáº¥p.</p>

<p>á»¨ng dá»¥ng Ä‘Æ°á»£c viáº¿t kiá»ƒu trÃªn Ä‘Ã¢y ráº¥t phá»• biáº¿n. ChÃºng dá»… viáº¿t, dá»… thá»­ nghiá»‡m, dá»… copy &amp; paste bá»Ÿi cÃ¡c cÃ´ng cá»¥ láº­p trÃ¬nh IDE vÃ  dá»± Ã¡n máº«u Ä‘Æ°á»£c tá»‘i Æ°u Ä‘á»ƒ táº¡o ra á»©ng dá»¥ng khá»‘i Ä‘Æ¡n nháº¥t. <em>Do cáº§n thuyáº¿t phá»¥c láº­p trÃ¬nh viÃªn Ä‘i theo cÃ´ng nghá»‡/framework nÃªn nhÃ  sáº£n xuáº¥t pháº£i lÃ m sao láº­p trÃ¬nh chá»‰ cáº§n New Project, áº¥n nÃºt Build &amp; Run lÃ  á»©ng dá»¥ng cháº¡y Ä‘Æ°á»£c ngay vÃ  luÃ´n</em>. CÃ³ thá»ƒ kiá»ƒm thá»­ tá»± Ä‘á»™ng giao diá»‡n web vá»›i Selenium. á»¨ng dá»¥ng khá»‘i Ä‘Æ¡n nháº¥t khÃ¡ dá»… triá»ƒn khai. PHP, Python thÃ¬ chá»‰ cáº§n cáº­p nháº­t mÃ£. Má»™t sá»‘ khÃ¡c cÃ³ chá»©c nÄƒng khá»Ÿi Ä‘á»™ng nÃ³ng (hot reload: dá»‹ch láº¡i náº¡p lÃªn cháº¡y tiáº¿p) nhÆ° Node.js, Play Framework, Revel. Äá»ƒ tÄƒng kháº£ nÄƒng chá»‹u táº£i thÃ¬ bá»• xung thÃªm web application server giá»‘ng nhau sau bá»™ cÃ¢n báº±ng táº£i (load balancer). <em>Táº¥t nhiÃªn má»Ÿ rá»™ng cÆ¡ sá»Ÿ dá»¯ liá»‡u liÃªn tá»¥c ghi thÃ nh nhiá»u báº£n khÃ´ng dá»… dÃ ng</em></p>

<p><img src="https://media.giphy.com/media/l0HlHrHBDz5bgJw6k/giphy.gif" alt="Alt text" />HÃ¬nh 2: Monolithic Applications <em>má»™t cÃ¢n táº¥t cáº£</em> ğŸ™ˆ</p>

<h2 id="microservices-architecture-Ä‘Æ¡n-giáº£n-hÃ³a-sá»±-phá»©c-táº¡p">Microservices Architecture - Ä‘Æ¡n giáº£n hÃ³a sá»± phá»©c táº¡p</h2>

<p>Tá»« nhá»¯ng nhÆ°á»£c Ä‘iá»ƒm trÃªn thÃ¬ Microservices Architecture sinh ra Ä‘á»ƒ kháº¯c phá»¥c cá»§a Monolithic Applications!<br />
Nhiá»u táº­p Ä‘oÃ n nhÆ° Amazon, eBay, Netflix Ä‘Ã£ giáº£i quyáº¿t váº¥n Ä‘á» á»©ng dá»¥ng má»™t khá»‘i báº±ng kiáº¿n trÃºc microservices (nhiá»u dá»‹ch vá»¥ nhá»).  Ã tÆ°á»Ÿng lÃ  chia nhá» á»©ng dá»¥ng lá»›n ra thÃ nh cÃ¡c dá»‹ch vá»¥ nhá» káº¿t ná»‘i vá»›i nhau.</p>

<p><em>Microservices Architecture lÃ  tá»•ng há»£p cÃ¡c services nhá» vÃ  cháº¡y tÃ¡ch biá»‡t, tá»« Ä‘Ã³ cÃ³ thá»ƒ phÃ¡t triá»ƒn vÃ  triá»ƒn khai Ä‘á»™c láº­p.</em></p>

<p><img src="https://media.giphy.com/media/z8RV858nD71cY/giphy.gif" alt="Alt text" />HÃ¬nh 3:Microservices Architecture lÃ m viá»‡c nhá»‹p nhÃ ng ğŸ˜‚</p>

<p>Má»—i dá»‹ch vá»¥ nhá» thá»±c hiá»‡n má»™t táº­p cÃ¡c chá»©c nÄƒng chuyÃªn biá»‡t nhÆ° quáº£n lÃ½ Ä‘Æ¡n hÃ ng, quáº£n lÃ½ khÃ¡ch hÃ ng. Má»—i dá»‹ch vá»¥ lÃ  má»™t á»©ng dá»¥ng nhá» cÃ³ kiáº¿n trÃºc Ä‘a diá»‡n lÃµi lÃ  business logic káº¿t ná»‘i ra cÃ¡c adapter khÃ¡c nhau. Má»™t sá»‘ dá»‹ch vá»¥ nhá» lá»™ ra giao tiáº¿p láº­p trÃ¬nh API cho dá»‹ch vá»¥ nhá» khÃ¡c hay á»©ng dá»¥ng client gá»i tá»›i. Khi váº­n hÃ nh, má»—i dá»‹ch vá»¥ nhá» Ä‘Æ°á»£c cháº¡y trong má»™t mÃ¡y áº£o (virtual machine) hoáº·c Docker container (áº£o hÃ³a táº§ng á»©ng dá»¥ng).</p>

<p>VÃ­ dá»¥, hÃ£y tÆ°á»Ÿng tÆ°á»£ng má»™t cá»­a hÃ ng trá»±c tuyáº¿n vá»›i cÃ¡c dá»‹ch vá»¥ siÃªu nhá» riÃªng cho tÃ i khoáº£n ngÆ°á»i dÃ¹ng, xá»­ lÃ½ Ä‘Æ¡n Ä‘áº·t hÃ ng vÃ  danh má»¥c sáº£n pháº©m cá»§a danh má»¥c sáº£n pháº©m:<br />
Cháº¯c cháº¯n cÃ³ má»™t sá»‘ bá»™ pháº­n chuyá»ƒn Ä‘á»™ng mÃ  báº¡n pháº£i thiáº¿t láº­p vÃ  cáº¥u hÃ¬nh Ä‘á»ƒ xÃ¢y dá»±ng má»™t há»‡ thá»‘ng nhÆ° váº­y. LÃ m tháº¿ nÃ o Ä‘á»ƒ chÃºng hoáº¡t Ä‘á»™ng cÃ¹ng nhau?<br />
<img src="https://raw.githubusercontent.com/paulc4/microservices-demo/master/shopping-system.jpg" alt="Alt text" />HÃ¬nh 4: MÃ´ hÃ¬nh microservice cá»§a má»™t webstore bÃ n hÃ ng</p>

<p>á» Ä‘Ã¢y, nháº±m má»¥c Ä‘Ã­ch lÃ m rÃµ cÃ¡ch thá»©c má»i thá»© hoáº¡t Ä‘á»™ng báº±ng cÃ¡ch xÃ¢y dá»±ng há»‡ thá»‘ng Ä‘Æ¡n giáº£n nháº¥t cÃ³ thá»ƒ tá»«ng bÆ°á»›c. Do Ä‘Ã³, mÃ¬nh sáº½ chá»‰ thá»±c hiá»‡n má»™t pháº§n nhá» cá»§a há»‡ thá»‘ng lá»›n - dá»‹ch vá»¥ tÃ i khoáº£n ngÆ°á»i dÃ¹ng (User login).</p>

<p>CÃ¡c Web Application sáº½ Ä‘Æ°a ra yÃªu cáº§u Ä‘Äƒng nháº­p cho dá»‹ch vá»¥ microservice-login sá»­ dá»¥ng má»™t API RESTful.<br />
<img src="https://raw.githubusercontent.com/paulc4/microservices-demo/master/mini-system.jpg" alt="Alt text" />HÃ¬nh 5: UserLogin</p>

<h2 id="sá»­-dá»¥ng-rabbitmq-trong-microservice">Sá»­ dá»¥ng RabbitMQ trong microservice</h2>

<p>Trong kiáº¿n trÃºc microservices, á»©ng dá»¥ng pháº§n má»m Ä‘Æ°á»£c cáº¥u thÃ nh tá»« cÃ¡c dá»‹ch vá»¥ Ä‘á»™c láº­p. Äá»ƒ hoÃ n thÃ nh má»™t tÃ¡c vá»¥ cá»§a ngÆ°á»i dÃ¹ng trÃªn pháº§n má»m, káº¿t ná»‘i vÃ  giao tiáº¿p giá»¯a cÃ¡c microservices lÃ  cáº§n thiáº¿t vÃ¬ tÃ¡c vá»¥ gá»“m nhiá»u tÃ¡c Ä‘á»™ng khÃ¡c nhau lÃªn cÃ¡c services. VÃ¬ váº­y, giao tiáº¿p giá»¯a cÃ¡c microservices lÃ  má»™t váº¥n Ä‘á» cá»±c kÃ¬ quan trá»ng.</p>

<p>Khi Ã¡p dá»¥ng SOA, giao tiáº¿p giá»¯a cÃ¡c services Ä‘Æ°á»£c tiáº¿n hÃ nh bá»Ÿi má»™t Enterprise Service Bus (ESB) vÃ  pháº§n lá»›n logic náº±m trong táº§ng trung gian nÃ y (Ä‘á»‹nh tuyáº¿n cho tin nháº¯n, chuyá»n Ä‘á»•i vÃ  Ä‘iá»u phá»‘i tin nháº¯n). Tuy nhiÃªn, kiáº¿n trÃºc microservices thÃºc Ä‘áº©y viá»‡c loáº¡i trá»« má»™t táº§ng giao tiáº¿p trung gian táº­p trung/ ESB vÃ  chuyá»ƒn pháº§n logic (business logic) sang cÃ¡c services (dáº¡ng Smart Endpoints).</p>

<p>Bá»Ÿi vÃ¬ microservices sá»­ dá»¥ng giao thá»©c tiÃªu chuáº©n HTTP, JSON, &hellip;, yÃªu cáº§u Ä‘á»ƒ káº¿t ná»‘i má»™t giao thá»©c khÃ¡c biá»‡t Ä‘Æ°á»£c tá»‘i giáº£n. Má»™t lá»±a chá»n khÃ¡c cho giao tiáº¿p giá»¯a microservices lÃ  sá»­ dá»¥ng má»™t message bus nháº¹ hay gateway vá»›i kháº£ nÄƒng Ä‘á»‹nh tuyáº¿n tá»‘i thiá»ƒu hoáº¡t Ä‘á»™ng nhÆ° nhá»¯ng Ä‘Æ°á»ng truyá»n Ä‘Æ¡n thuáº§n khÃ´ng xá»­ lÃ½ business logic gÃ¬ háº¿t (dump pipe).</p>

<p><strong>RabbitMQ</strong> lÃ  má»™t trong nhá»¯ng tÃ¹y chá»n cÃ³ sáºµn miá»…n phÃ­ Ä‘Æ¡n giáº£n nháº¥t Ä‘á»ƒ triá»ƒn khai hÃ ng Ä‘á»£i nháº¯n tin trong kiáº¿n â€‹â€‹trÃºc microservice cá»§a báº¡n. CÃ¡c máº«u hÃ ng Ä‘á»£i nÃ y cÃ³ thá»ƒ giÃºp má»Ÿ rá»™ng quy mÃ´ á»©ng dá»¥ng cá»§a báº¡n báº±ng cÃ¡ch giao tiáº¿p giá»¯a cÃ¡c dá»‹ch vá»¥ siÃªu nhá» khÃ¡c nhau. ChÃºng tÃ´i cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c hÃ ng Ä‘á»£i nÃ y cho cÃ¡c má»¥c Ä‘Ã­ch khÃ¡c nhau, nhÆ° tÆ°Æ¡ng tÃ¡c giá»¯a cÃ¡c dá»‹ch vá»¥ siÃªu nhá» cá»‘t lÃµi, tÃ¡ch rá»i cÃ¡c dá»‹ch vá»¥ siÃªu nhá», thá»±c hiá»‡n cÃ¡c cÆ¡ cháº¿ chuyá»ƒn Ä‘á»•i dá»± phÃ²ng vÃ  gá»­i thÃ´ng bÃ¡o email qua cÃ¡c nhÃ  mÃ´i giá»›i tin nháº¯n.</p>

<p>Báº¥t cá»© nÆ¡i nÃ o hai hoáº·c nhiá»u mÃ´-Ä‘un lÃµi cáº§n giao tiáº¿p vá»›i nhau, chÃºng ta khÃ´ng nÃªn thá»±c hiá»‡n cÃ¡c cuá»™c gá»i HTTP trá»±c tiáº¿p, vÃ¬ chÃºng cÃ³ thá»ƒ lÃ m cho lá»›p lÃµi Ä‘Æ°á»£c liÃªn káº¿t cháº·t cháº½ vÃ  sáº½ khÃ³ quáº£n lÃ½ khi cÃ³ nhiá»u phiÃªn báº£n cá»§a má»—i mÃ´-Ä‘un lÃµi. NgoÃ i ra, báº¥t cá»© khi nÃ o má»™t dá»‹ch vá»¥ ngá»«ng hoáº¡t Ä‘á»™ng, máº«u cuá»™c gá»i HTTP sáº½ tháº¥t báº¡i, vÃ¬ sau khi khá»Ÿi Ä‘á»™ng láº¡i, khÃ´ng cÃ³ cÃ¡ch nÃ o Ä‘á»ƒ theo dÃµi cÃ¡c cuá»™c gá»i yÃªu cáº§u HTTP cÅ©. Äiá»u nÃ y dáº«n Ä‘áº¿n sá»± cáº§n thiáº¿t cá»§a <strong>RabbitMQ</strong>.<br />
<img src="http://images3.programmersought.com/637/45/450cae4efffbadf6c9bd256e59171905.png" alt="Alt text" />HÃ¬nh 5: CÃ¡ch thá»©c hoáº¡t Ä‘á»™ng cá»§a <strong>RabbitMQ</strong></p>

<p>Sá»­ dá»¥ng RabbitMQ, báº¡n cÃ³ thá»ƒ trÃ¡nh cÃ¡c cuá»™c gá»i HTTP trá»±c tiáº¿p giá»¯a cÃ¡c dá»‹ch vá»¥ vÃ  loáº¡i bá» sá»± káº¿t há»£p cháº·t cháº½ giá»¯a cÃ¡c dá»‹ch vá»¥ siÃªu nhá» cá»‘t lÃµi. Äiá»u nÃ y sáº½ giÃºp báº¡n má»Ÿ rá»™ng quy mÃ´ microservice cá»§a báº¡n á»Ÿ cáº¥p Ä‘á»™ cao hÆ¡n vÃ  thÃªm cÃ¡c cÆ¡ cháº¿ chuyá»ƒn Ä‘á»•i dá»± phÃ²ng giá»¯a cÃ¡c dá»‹ch vá»¥ siÃªu nhá».</p>

<h2 id="tÃ³m-cÃ¡i-vÃ¡y-láº¡i">TÃ³m cÃ¡i vÃ¡y láº¡i!</h2>

<p>Kiáº¿n trÃºc má»™t khá»‘i sáº½ há»¯u hiá»‡u Ä‘á»‘i vá»›i á»©ng dá»¥ng Ä‘Æ¡n giáº£n, Ã­t chá»©c nÄƒng. NÃ³ bá»™c lá»™ nhiá»u nhÆ°á»£c Ä‘iá»ƒm khi á»©ng dá»¥ng phÃ¡t triá»ƒn lá»›n nhiá»u chá»©c nÄƒng. Kiáº¿n trÃºc microservices chia nhá» kiáº¿n trÃºc má»™t khá»‘i ra cÃ¡c dá»‹ch vá»¥ nhá». Microservices sáº½ hiá»‡u quáº£, phÃ¹ há»£p cho nhá»¯ng á»©ng dá»¥ng phá»©c táº¡p, liÃªn tá»¥c phÃ¡t triá»ƒn náº¿u Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘Ãºng vÃ  táº­n dá»¥ng cÃ¡c cÃ´ng nghá»‡ quáº£n lÃ½, váº­n hÃ nh tá»± Ä‘á»™ng.<br />
ChÃºng ta Ä‘Ã£ trao Ä‘á»•i cÃ¡c Ä‘áº·c tÃ­nh cá»§a kiáº¿n trÃºc Microservices vÃ  cÃ¡ch báº¡n cÃ³ thá»ƒ thá»±c hiá»‡n chÃºng. Tuy nhiÃªn, báº¡n nÃªn lÆ°u Ã½ ráº±ng Microservices toa thuá»‘c chá»¯a bÃ¡ch bá»‡nh. Viá»‡c Ã¡p dá»¥ng mÃ¹ quÃ¡ng nhá»¯ng khÃ¡i niá»‡m Ä‘ang ná»•i sáº½ khÃ´ng xá»­ lÃ½ váº¥n Ä‘á» thá»±c táº¿ cá»§a báº¡n. Náº¿u báº¡n Ä‘Ã£ Ä‘á»c toÃ n bá»™ bÃ i nÃ y thÃ¬ báº¡n sáº½ tháº¥y Microservices cÃ³ nhiá»u lá»£i Ã­ch vÃ  chÃºng ta nÃªn táº­n dá»¥ng. Tuy nhiÃªn, báº¡n cáº§n hiá»ƒu ráº±ng mong chá» microservices giáº£i quyáº¿t táº¥t cáº£ cÃ¡c váº¥n Ä‘á» lÃ  khÃ´ng thá»±c tiá»…n! ğŸ¤”</p>

<h4 id="oke-nhÆ°-váº­y-thÃ¬-á»Ÿ-look-back-on-week-láº§n-nÃ y-chÃºng-ta-Ä‘Ã£-cÃ¹ng-nhau-bÃ n-luáº­n-vá»-cÃ´ng-microservice">Oke! NhÆ° váº­y thÃ¬ á»Ÿ Look Back on Week láº§n nÃ y chÃºng ta Ä‘Ã£ cÃ¹ng nhau bÃ n luáº­n vá» cÃ´ng Microservice!</h4>

<h4 id="ngoÃ i-ra-trong-tuáº§n-vá»«a-qua-tá»›-cÅ©ng-Ä‘Ã£-Ä‘Æ°á»£c-tráº£i-nghiá»‡m-vá»-chá»¥p-áº£nh-vÃ -cháº¡y-media-camera-á»Ÿ-event-ngÆ°á»i-váº«n-Ä‘ang-phÃª-phÃª-vÃ¬-nÃ³-cÅ©ng-khÃ¡-má»‡t-bÃªn-cáº¡nh-Ä‘Ã³-thÃ¬-sáº¯p-tá»›i-tá»›-sáº¯p-bÆ°á»›c-sang-má»™t-trang-má»›i-cá»§a-cuá»™c-sá»‘ng-nhá»¯ng-cÃ¡i-nÃ y-sáº½-Ä‘Æ°á»£c-tiáº¿t-lá»™-vÃ o-tuáº§n-sau-trong-má»¥c-nháº­t-kÃ­-look-back-on-week-sá»‘-2-nha">NgoÃ i ra trong tuáº§n vá»«a qua tá»› cÅ©ng Ä‘Ã£ Ä‘Æ°á»£c tráº£i nghiá»‡m vá» chá»¥p áº£nh vÃ  cháº¡y media camera á»Ÿ event, ngÆ°á»i váº«n Ä‘ang phÃª phÃª vÃ¬ nÃ³ cÅ©ng khÃ¡ má»‡t! BÃªn cáº¡nh Ä‘Ã³ thÃ¬ sáº¯p tá»›i tá»› sáº¯p bÆ°á»›c sang má»™t trang má»›i cá»§a cuá»™c sá»‘ng,nhá»¯ng cÃ¡i nÃ y sáº½ Ä‘Æ°á»£c tiáº¿t lá»™ vÃ o tuáº§n sau trong má»¥c nháº­t kÃ­ Look Back on Week sá»‘ 2 nha.</h4>

<h4 id="chÃºc-má»i-ngÆ°á»i-má»™t-tuáº§n-má»›i-vui-váº»-vÃ -may-máº¯n">ChÃºc má»i ngÆ°á»i má»™t tuáº§n má»›i vui váº» vÃ  may máº¯n!</h4>

<h4 id="good-bye-peaceeeeeeeeeeeee-alt-text-https-media-giphy-com-media-2wgznjxgrq1vw-giphy-gif">Good bye! Peaceeeeeeeeeeeee!!!!ğŸ˜‡ğŸ˜‡ğŸ˜‡<img src="https://media.giphy.com/media/2WgznJxgRq1vW/giphy.gif" alt="Alt text" /></h4>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="comment">
            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            

        </div>
        <div class="pagination__buttons">
          
          
            <span class="button next">
              <a href="https://biendinh199x.github.io/blog/post/postpage2_infome/">
                <span class="button__text">Táº¡i sao lÃ  blog nÃ y?</span>
                <span class="button__icon">â†’</span>
              </a>
            </span>
          
        </div>
      </div>
    

   
  
    </div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Create at BumbleBeeğŸ</div>
    
  </div>
</footer>

<script src="https://biendinh199x.github.io/blog/assets/main.js"></script>
<script src="https://biendinh199x.github.io/blog/assets/prism.js"></script>

  
</div>

</body>
</html>
